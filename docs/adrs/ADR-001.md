# ADR-001: Primary Programming Language

## Context

To ensure consistency and maintainability for solutions built on the Dasolve framework, we must standardize on a primary programming language. This decision is critical for establishing consistency, maintainability, and developer velocity for teams using the framework.

Without a clear standard, we risk a fragmented ecosystem where each solution uses a different language (e.g., plain JavaScript, Python, Go), which would lead to:

- Integration challenges between different solutions or modules.
- Increased complexity in build, test, and deployment pipelines across the organization.
- Difficulty in sharing code, patterns, and resources.
- Silos in development teams, making it harder for developers to move between projects built on the framework.

A single, standardized language is required for solutions built on the framework to ensure a cohesive and maintainable ecosystem.

## Decision

The primary programming language for **solutions built on the Dasolve framework** is **TypeScript**.

It will be used in all parts of the solution, including (but not limited to) backend services, frontend components, build scripts, and internal tooling.

This decision applies Principle 1.1 ("The primary programming language for Dasolve is TypeScript...") to all solutions developed using the framework, ensuring consistency between the framework itself and the applications built on top of it.

## Do's and Don'ts

This section clarifies the practical application of this decision for development teams.

### Do

- **DO** use TypeScript (`.ts`, `.tsx`) for all new source code in your solution, including backend services, frontend components, shared libraries, and utility scripts.
- **DO** enable and enforce `strict` mode in all `tsconfig.json` files to leverage the full power of the type system.
- **DO** create and share type definition files (`.d.ts`) for common data structures and API contracts used across your solution or shared between solutions.
- **DO** use TypeScript-aware linting tools (like `oxlint`) to maintain code quality and consistency.
- **DO** take the time to create accurate type definitions for third-party JavaScript libraries that lack them.

### Don't

- **DON'T** write new files in plain JavaScript (`.js`, `.jsx`). All new code for the solution must be TypeScript.
- **DON'T** use the `any` type as a shortcut. Avoid it whenever possible in favor of specific types, `unknown`, or generics.
- **DON'T** introduce other programming languages (like Python, Go, Java) for new services or components within the solution.
- **DON'T** disable strict type-checking rules in the `tsconfig.json` to bypass compilation errors.
- **DON'T** commit code that fails the TypeScript compiler (`tsc`).

## Consequences

- **Positive:**
  - All new solutions will adhere to a single, high-quality standard, making them easier to maintain.
  - We can establish a unified set of linting rules (e.g., `oxlint`) and code style standards across all projects.
  - Developers will be able to contribute to any solution or move between different solution teams more easily.
  - Solutions built on the framework will be more robust and self-documenting due to static types.
- **Negative:**
  - All developers building on the framework must be proficient in TypeScript. Training will be required for those who are not.
  - Our project templates and CI/CD processes must be configured to handle TypeScript transpilation from day one.
  - We are reliant on the TypeScript open-source project and its continued development.
- **Risks:**
  - **Improper Type Usage:** Developers may circumvent type safety by overusing the `any` type. This will be mitigated by enabling strict mode in `tsconfig.json` and enforcing it through code reviews and linting (as noted in the "Don't" section).

## Compliance and Enforcement

- **Enforcement:** Compliance with this ADR will be enforced through automated tooling and mandatory code reviews.
  - **Tooling:** Project templates will be pre-configured to enforce this standard. The build pipeline will fail any commit that introduces non-TypeScript code (`.js`, `.jsx`) or fails `tsc` compilation. `oxlint` rules will be configured to flag violations, such as the use of `any`.
  - **Code Reviews:** Reviewers are responsible for upholding this standard and identifying any attempts to bypass type safety.
- **Exceptions:** Any exceptions to this decision must be explicitly approved by the Dasolve core team.
  - All approved exceptions must be documented as a separate ADR that outlines the business/technical justification and the scope of the exception.

## References

- [TypeScript Official Website](https://www.typescriptlang.org/)
