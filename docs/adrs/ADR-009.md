# ADR-009: VSCode and its forks is the IDE for Dasolve solution development

## Context

The Dasolve framework is designed for rapid and complex solution development. This development will be undertaken by a diverse set of actors: senior and junior human developers, data scientists, and increasingly, AI-based "developer" agents and LLMs.

To ensure consistency, quality, and velocity, we must provide a common, powerful, and extensible development environment. The choice of a standard IDE directly impacts:

1.  **Tooling:** Our ability to provide rich, framework-specific tools (e.g., language servers, debuggers, linters, visualizations).
2.  **Onboarding:** The speed at which new developers can become productive.
3.  **Consistency:** Reducing "it works on my machine" problems by standardizing the environment.
4.  **AI/LLM Integration:** The ability for AI-driven development tools to understand, navigate, and contribute to Dasolve projects.

We need to select a single IDE ecosystem to target for all official tooling, documentation, and support.

## Decision

We will standardize on **Visual Studio Code (VSCode)** and its forks (e.g., Cursor, Kiro) as the official and recommended Integrated Development Environment (IDE) for building solutions with the Dasolve framework.

This decision means:

- All official Dasolve framework tooling (e.g., language extensions, debug adapters, code snippets) will be built _first and foremost_ as a VSCode extension.
- All documentation, tutorials, and onboarding materials will use VSCode as the reference implementation.
- We will provide `devcontainer.json` configurations to enable one-click, containerized Dasolve development environments within VSCode and its cloud-based forks.

## Consequences

### Positive

- **Unified Tooling Effort:** We can focus all engineering resources on building a single, high-quality `dasolve-tools.vscode` extension. This extension will leverage the **Language Server Protocol (LSP)** and **Debug Adapter Protocol (DAP)**, both pioneered by VSCode, allowing us to provide rich IntelliSense, code navigation, and step-through debugging.
- **Massive Ecosystem & Familiarity:** We are building on the most popular IDE in the world. The barrier to entry for new developers is extremely low, as most are already proficient with VSCode.
- **Excellent AI/LLM Synergy:** The vast majority of modern AI coding tools (GitHub Copilot, Codeium, etc.) are built as VSCode extensions. AI-native editors (e.g., Cursor) are often forks of VSCode. By standardizing on this platform, we ensure Dasolve development is "AI-ready" from day one. LLM agents can be more easily integration-tested and prompted in a VSCode environment.
- **Cloud & Remote Development:** The "and its forks" clause is critical. It explicitly blesses the use of containerized cloud environments like GitHub Codespaces and Gitpod. This allows us to provide perfectly reproducible, pre-configured development environments via a `devcontainer.json` file, eliminating setup friction.
- **Open Source Alignment:** The core of VSCode is open source (MIT License), and fully open-source builds like VSCodium exist. This mitigates concerns about vendor lock-in.

### Negative

- **Developer Resistance:** Some senior developers or specialists may strongly prefer other IDEs (e.g., a data scientist who lives in Jupyter, or a Kotlin developer who swears by IntelliJ). This standard may be seen as a mandate and cause friction.
- **Performance:** While lighter than full-fledged Java IDEs, VSCode's performance can degrade with many extensions. We must ensure our own `dasolve-tools` extension is highly optimized.
- **Microsoft Ecosystem:** We are tying our core developer experience to an ecosystem heavily influenced by Microsoft. This is a calculated trade-off for the benefits of the platform's ubiquity and technical standards (LSP/DAP).

## Do's and Don'ts

This section provides clear guidelines for adhering to this decision.

### Do

- **DO** use VSCode or one of its forks (e.g., Cursor, Kiro) for all development on Dasolve framework solutions.
- **DO** use the official `dasolve-tools.vscode` extension.
- **DO** use the provided `.devcontainer` configuration for projects to ensure a consistent, containerized environment.
- **DO** report bugs, request features, and contribute to the official Dasolve VSCode tooling.
- **DO** ensure all project-specific tooling (e.g., custom tasks, launch configurations) is stored in the `.vscode` directory of the repository.

### Don't

- **DON'T** perform primary development using a non-approved IDE (e.g., JetBrains, Vim, Eclipse) and then "port" settings. This undermines the goal of consistency.
- **DON'T** introduce or rely on project tooling that is specific to another IDE (e.g., `.idea` directories). These should be added to `.gitignore`.
- **DON'T** ask for or expect official support for issues encountered in a non-standard IDE. The support team will require the issue to be reproduced in VSCode.
- **DON'T** build or maintain duplicate, unofficial tooling for other IDEs. This fragments effort and creates maintenance debt.

## Compliance and Enforcement

- **Automated Checks:** The standard Dasolve project scaffolding will include a `.gitignore` file that actively excludes configuration files from other major IDEs (e.g., `.idea/`, `.sln`, `*.nbproject/`).
- **CI/CD Pipeline:** While difficult to enforce the _editor_ choice, CI/CD pipelines will be based entirely on the `devcontainer` environment. Code that runs and passes tests in this container is compliant. Developers using other IDEs are responsible for ensuring their local environment matches the dev container precisely.
- **Code Reviews:** Reviewers are expected to ensure that no IDE-specific files (other than `.vscode/`) are committed to the repository. Project setup instructions must point _only_ to VSCode and the dev container setup.
- **Exceptions:**
  - Exceptions to this ADR are rare and must be approved by the project's lead architect or the Dasolve framework core team.
  - A valid exception requires a strong business or technical justification (e.g., a specific, licensed analysis tool that _only_ integrates with a non-approved IDE).
  - An approved exception does _not_ obligate the framework team to provide support or tooling for that IDE. The team granted the exception assumes all responsibility for its own tooling and environment maintenance.
